<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "urn:fontconfig:fonts.dtd">
<fontconfig>
	<!--
		Sinhala (si) font preference configuration - BLACKLIST MODE
		Compatible with fontconfig >= 2.14 (Ubuntu 24.04 / Linux Mint 22.x)
		Generated by sinhala-font-changer
		
		Strategy: Remove Sinhala language support from FreeSerif fonts
		This keeps FreeSerif for other languages but hides it from Sinhala queries
	-->

	<!-- Block FreeSerif from being used as a fallback for Sinhala -->
	<selectfont>
		<rejectfont>
			<pattern>
				<patelt name="family">
					<string>FreeSerif</string>
				</patelt>
				<patelt name="lang">
					<string>si</string>
				</patelt>
			</pattern>
		</rejectfont>
	</selectfont>

	<!-- Now set our preferred Sinhala font -->
	
	<!-- Prefer selected font for sans-serif + Sinhala -->
	<match target="pattern">
		<test name="family">
			<string>sans-serif</string>
		</test>
		<test name="lang" compare="contains">
			<string>si</string>
		</test>
		<edit name="family" mode="prepend_first" binding="strong">
			<string>FONT_PLACE_HOLDER</string>
		</edit>
	</match>

	<!-- Prefer selected font for serif + Sinhala -->
	<match target="pattern">
		<test name="family">
			<string>serif</string>
		</test>
		<test name="lang" compare="contains">
			<string>si</string>
		</test>
		<edit name="family" mode="prepend_first" binding="strong">
			<string>FONT_PLACE_HOLDER</string>
		</edit>
	</match>

	<!-- Prefer selected font for monospace + Sinhala -->
	<match target="pattern">
		<test name="family">
			<string>monospace</string>
		</test>
		<test name="lang" compare="contains">
			<string>si</string>
		</test>
		<edit name="family" mode="prepend_first" binding="strong">
			<string>FONT_PLACE_HOLDER</string>
		</edit>
	</match>

	<!-- Global fallback: ANY Sinhala text gets our font -->
	<match target="pattern">
		<test name="lang" compare="contains">
			<string>si</string>
		</test>
		<edit name="family" mode="prepend_first" binding="strong">
			<string>FONT_PLACE_HOLDER</string>
		</edit>
	</match>
</fontconfig>
